{% extends 'layout.html' %}
<!-- 继承模板 -->

{% block main %}
<ol class="breadcrumb">
    <li>
        <a href="#">内容首页</a>
    </li>
    <li>
        <a href="#">内容列表</a>
    </li>
</ol>
<h3>内容列表</h3>
<!-- 引用分页组件 -->
{% include "page2.html" %}
<table class="table table-hover table-striped">
    <tr>
        <th>id</th>
        <th>分类名称</th>
        <th>内容标题</th>
        <th>作者</th>
        <th>添加时间</th>
        <th>阅读量</th>
        <th>操作</th>
    </tr>
    {% for i in contents %}
    <tr>
        <td>{{i.category._id.toString()}}</td>
        <td>{{i.category.name.toString()}}</td>
        <td>{{i.title}}</td>
        <td>{{i.user.username}}</td>
        <td>{{i.addTime | date('Y-m-d H:i:s', -8*60)}}</td>
        <td>{{i.views}}</td>
        <td>
            <a href="/admin/content/edit?id={{i._id.toString()}}">修改</a>
            <a href="/admin/content/delete?id={{i._id.toString()}}">删除</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}