{% extends "layout.html" %} {% block content %} {% for item in contents %}
<div class="listBox">
    <h1>{{item.title}}</h1>
    <p class="colDefault">
        作者：
        <span class="colInfo">{{item.user.username}}</span> - 时间：
        <span class="colInfo">{{item.addTime | date('Y-m-d H:i:s', -8*60)}}</span> - 阅读：
        <span class="colInfo">{{item.views}}</span> - 评论：
        <span class="colInfo">{{item.comments.length}}</span>
    </p>
    <dfn>
        <p>{{item.description}}</p>
    </dfn>
    <div class="function">
        <a href="/view?contentid={{item.id}}">阅读全文</a>
    </div>
</div>
{% endfor %}
<div class="pager">
    <ul class="clear">

        <li class="previous">
            {% if page
            <=1 %} <a href="javascript:;">没有上一页了</a>
                {% else %}
                <a href="/?category={{category}}&page={{page-1}}">上一页</a>
                {% endif %}
        </li>
        <li>
            {% if pages > 0 %}
            <strong>{{page}} / {{pages}}</strong>
            {% else %}
            <strong>{{pages}}</strong>
            {% endif %}
        </li>
        <li class="next">
            {% if page >= pages %}
            <a href="javascript:;">没有下一页了</a>
            {% else %}
            <a href="/?category={{category}}&page={{page+1}}">下一页</a>
            {% endif %}
        </li>
    </ul>
</div>
{% endblock %}